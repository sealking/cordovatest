(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-37b0065c"],{"122a":function(t,e,s){"use strict";var i=s("5213"),n=s.n(i);n.a},"2f21":function(t,e,s){"use strict";var i=s("79e5");t.exports=function(t,e){return!!t&&i(function(){e?t.call(null,function(){},1):t.call(null)})}},5213:function(t,e,s){},"55dd":function(t,e,s){"use strict";var i=s("5ca1"),n=s("d8e8"),o=s("4bf8"),a=s("79e5"),c=[].sort,r=[1,2,3];i(i.P+i.F*(a(function(){r.sort(void 0)})||!a(function(){r.sort(null)})||!s("2f21")(c)),"Array",{sort:function(t){return void 0===t?c.call(o(this)):c.call(o(this),n(t))}})},ac6a:function(t,e,s){for(var i=s("cadf"),n=s("0d58"),o=s("2aba"),a=s("7726"),c=s("32e9"),r=s("84f2"),l=s("2b4c"),u=l("iterator"),m=l("toStringTag"),h=r.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},d=n(f),p=0;p<d.length;p++){var b,g=d[p],v=f[g],q=a[g],T=q&&q.prototype;if(T&&(T[u]||c(T,u,h),T[m]||c(T,m,g),r[g]=h,v))for(b in i)T[b]||o(T,b,i[b],!0)}},ed4d:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{attrs:{id:"tab-bar"}},["1"===t.examinationType?s("mt-header",{staticStyle:{"font-size":"16px"},attrs:{title:"在线考试",fixed:""}},[s("mt-button",{attrs:{slot:"right"},on:{click:function(e){t.submitClick()}},slot:"right"},[t._v("交卷")])],1):t._e(),"2"===t.examinationType?s("mt-header",{staticStyle:{"font-size":"16px"},attrs:{title:"模拟考试",fixed:""}},[s("mt-button",{attrs:{slot:"right"},on:{click:function(e){t.submitClick()}},slot:"right"},[t._v("交卷")])],1):t._e()],1),s("div",{staticClass:"content-div"},[s("div",{staticClass:"answer-result"},["2"===t.examinationType?s("div",{staticClass:"success-count"},[s("span",{staticClass:"mint-field-state is-success"},[s("i",{staticClass:"mintui mintui-field-success result-icon"}),s("span",{staticClass:"result-count"},[t._v(t._s(t.rightNumber))])])]):t._e(),"2"===t.examinationType?s("div",{staticClass:"error-count"},[s("span",{staticClass:"mint-field-state is-error"},[s("i",{staticClass:"mintui mintui-field-error result-icon"}),s("span",{staticClass:"result-count"},[t._v(t._s(t.answerNumber-t.rightNumber))])])]):t._e(),s("div",{staticClass:"timer"},[s("mt-badge",{attrs:{size:"normal",type:"error"}},[t._v(t._s(t.minute2)+"分"+t._s(t.seconds2)+"秒")])],1),s("div",{staticClass:"all-count"},[s("span",{staticClass:"mint-field-state"},[s("mt-badge",{attrs:{size:"normal",type:"primary"}},[t._v("答题进度")]),s("span",{staticClass:"result-count"},[t._v(t._s(t.answerNumber)+"/"+t._s(t.totalNumber))])],1)])]),s("div",{staticClass:"question-info"},["1"===t.item.questionType?s("div",[s("div",{staticClass:"que-type"},[s("mt-badge",{attrs:{size:"normal",type:"success"}},[t._v("单选题")])],1),s("div",{staticClass:"que-decription"},[s("span",[t._v(t._s(t.item.questionContent))])]),s("div",{staticClass:"que-chose"},[s("mt-radio",{attrs:{options:t.item.itemInfoList,disabled:t.item.finish},model:{value:t.item.choice,callback:function(e){t.$set(t.item,"choice",e)},expression:"item.choice"}})],1)]):t._e(),"2"===t.item.questionType?s("div",[s("div",{staticClass:"que-type"},[s("mt-badge",{attrs:{size:"normal",type:"success"}},[t._v("多选题")])],1),s("div",{staticClass:"que-decription"},[s("span",[t._v(t._s(t.item.questionContent))])]),s("div",{staticClass:"que-chose"},[s("mt-checklist",{attrs:{options:t.item.itemInfoList},model:{value:t.item.checkboxInfo,callback:function(e){t.$set(t.item,"checkboxInfo",e)},expression:"item.checkboxInfo"}})],1)]):t._e(),"3"===t.item.questionType?s("div",[s("div",{staticClass:"que-type"},[s("mt-badge",{attrs:{size:"normal",type:"success"}},[t._v("判断题")])],1),s("div",{staticClass:"que-decription"},[s("span",[t._v(t._s(t.item.questionContent))])]),s("div",{staticClass:"que-chose"},[s("mt-radio",{attrs:{options:t.item.itemInfoList},model:{value:t.item.choice,callback:function(e){t.$set(t.item,"choice",e)},expression:"item.choice"}})],1)]):t._e(),"4"===t.item.questionType?s("div",[s("div",{staticClass:"que-type"},[s("mt-badge",{attrs:{size:"normal",type:"success"}},[t._v("填空题")])],1),s("div",{staticClass:"que-decription"},[s("span",[t._v(t._s(t.item.questionContent))]),s("mt-field",{attrs:{label:"",placeholder:"请输入正确答案",disabled:t.item.finish},model:{value:t.item.choice,callback:function(e){t.$set(t.item,"choice",e)},expression:"item.choice"}})],1)]):t._e()]),s("div",{staticClass:"btn-list"},[s("mt-button",{attrs:{type:"primary",size:"small",disabled:t.item.finish},on:{click:function(e){t.getResult()}}},[t._v("确认")])],1),t.item.finish?s("div",{staticClass:"answer"},["2"!==t.examinationType||"1"!==t.item.questionType&&"4"!==t.item.questionType?t._e():s("p",{staticClass:"answer-true"},[t.item.answer===t.item.choice?s("span",[t._v("回答正确")]):t._e(),t.item.answer!==t.item.choice?s("span",[t._v("回答错误，正确答案为【"+t._s(t.item.answer)+"】")]):t._e()]),"2"===t.examinationType&&"2"===t.item.questionType?s("p",{staticClass:"answer-true"},[t.item.answer===t.item.checkboxInfo.sort().join(",")?s("span",[t._v("回答正确")]):t._e(),t.item.answer!==t.item.checkboxInfo.sort().join(",")?s("span",[t._v("回答错误"),"2"===t.examinationType?s("span",[t._v("，正确答案为【"+t._s(t.item.answer)+"】")]):t._e()]):t._e()]):t._e(),"2"===t.examinationType&&"3"===t.item.questionType?s("p",{staticClass:"answer-true"},[t.item.answer===t.item.choice?s("span",[t._v("回答正确")]):t._e(),t.item.answer!==t.item.choice?s("span",[t._v("回答错误")]):t._e()]):t._e()]):t._e()]),s("div",{attrs:{id:"tab-bar"}},[s("mt-tabbar",{attrs:{fixed:""}},[s("div",{staticClass:"prev"},[s("mt-button",{attrs:{slot:"left",disabled:t.upBtnFlg},on:{click:function(e){t.upBtnClick()}},slot:"left"},[t._v("上一题")])],1),s("div",{staticClass:"next"},[s("mt-button",{attrs:{slot:"right",type:"primary",disabled:t.downBtnFlg},on:{click:function(e){t.downBtnClick()}},slot:"right"},[t._v("下一题")])],1)])],1)])},n=[],o=(s("a481"),s("ac6a"),s("55dd"),s("76a0")),a={data:function(){return{minute:0,seconds:0,timer:null,totalNumber:0,answerNumber:0,rightNumber:0,score:0,questiones:[],item:"",index:0,upBtnFlg:!0,downBtnFlg:!0,examinationType:localStorage.getItem("examinationType"),updateScoreUrl:"/examination/updateScore",updateExamFlagUrl:"/examination/updateIsExamFlag",getQuestionsUrl:"/examination/getQuestions"}},methods:{getResult:function(){var t=this.upBtnFlg,e=this.downBtnFlg;if(this.upBtnFlg=!1,this.downBtnFlg=!1,"1"===this.item.questionType||"3"===this.item.questionType||"4"===this.item.questionType){if(!this.item.choice)return void Object(o["Toast"])("请填写答案");this.item.choiceTemp=this.item.choice,this.item.choice===this.item.answer&&(this.rightNumber++,this.score+=this.item.score),this.answerNumber++}else if("2"===this.item.questionType){if(this.item.checkboxInfo.length<1)return void Object(o["Toast"])("请选择答案");this.item.checkboxInfoTemp=this.item.checkboxInfo,this.item.checkboxInfo.sort().join(",")===this.item.answer&&(this.rightNumber++,this.score+=this.item.score),this.answerNumber++}"1"!==this.item.questionType&&"2"!==this.item.questionType&&"3"!==this.item.questionType||this.item.itemInfoList.forEach(function(t){t.disabled=!0}),this.item.finish=!0,this.item.answerFlg=!0,this.upBtnFlg=t,this.downBtnFlg=e},upBtnClick:function(){var t=this.index;this.questiones[t].answerFlg?(this.downBtnFlg=!1,1===t&&(this.upBtnFlg=!0),this.index=--t,this.item=this.questiones[t],"1"===this.item.questionType||"3"===this.item.questionType||"4"===this.item.questionType?this.questiones[t].answerFlg?(this.item.choice=this.questiones[t].choiceTemp,this.questiones[t].finish=!0):(this.item.choice="",this.questiones[t].finish=!1):"2"===this.item.questionType&&(this.questiones[t].answerFlg?(this.item.checkboxInfo=this.questiones[t].checkboxInfoTemp,this.questiones[t].finish=!0):(this.item.checkboxInfo=[],this.questiones[t].finish=!1))):Object(o["Toast"])("请选择答案")},downBtnClick:function(){var t=this.index;this.questiones[t].answerFlg?(this.upBtnFlg=!1,this.index===this.questiones.length-2&&(this.downBtnFlg=!0),this.index=++t,this.item=this.questiones[t],"1"===this.item.questionType||"3"===this.item.questionType||"4"===this.item.questionType?this.questiones[t].answerFlg?(this.item.choice=this.questiones[t].choiceTemp,this.questiones[t].finish=!0):(this.item.choice="",this.questiones[t].finish=!1):"2"===this.item.questionType&&(this.questiones[t].answerFlg?(this.item.checkboxInfo=this.questiones[t].checkboxInfoTemp,this.questiones[t].finish=!0):(this.item.checkboxInfo=[],this.questiones[t].finish=!1))):Object(o["Toast"])("请选择答案")},submitClick:function(){var t=this;this.totalNumber!==this.answerNumber?Object(o["MessageBox"])({title:"提示",message:"试题未全部作答，是否提交",showConfirmButton:!0,showCancelButton:!0}).then(function(e){"confirm"==e&&t.postScore()}).catch(function(t){Object(o["Toast"])("出现异常")}):this.postScore()},postScore:function(){var t=this;if("1"===this.examinationType){var e={examinationType:"1",studentNo:localStorage.getItem("studentNo")};this.postAxios(this.getQuestionsUrl,e).then(function(e){var s=e.isExamFlag;if("1"!==s){var i={stuNo:localStorage.getItem("studentNo"),examNo:localStorage.getItem("examinationNo"),examinationType:"1",score:t.score};t.postAxios(t.updateExamFlagUrl,i).then(function(t){}).catch(function(t){Object(o["Toast"])("出现异常")}),t.postAxios(t.updateScoreUrl,i).then(function(e){localStorage.setItem("score",t.score),localStorage.setItem("answerNumber",t.answerNumber),localStorage.setItem("totalNumber",t.totalNumber),t.$router.replace("scoreConfirm")}).catch(function(t){Object(o["Toast"])("出现异常")})}else Object(o["Toast"])("您已经参加过该考试")}).catch(function(t){Object(o["Toast"])("出现异常")})}else{var s={examinationType:"2",stuNo:localStorage.getItem("studentNo"),trainNo:localStorage.getItem("trainNo"),settingDate:localStorage.getItem("questionsSettingDate"),score:this.score};this.postAxios(this.updateScoreUrl,s).then(function(e){localStorage.setItem("score",t.score),localStorage.setItem("answerNumber",t.answerNumber),localStorage.setItem("totalNumber",t.totalNumber),t.$router.push("scoreConfirm")}).catch(function(t){Object(o["Toast"])("出现异常")})}}},computed:{seconds2:function(){return this.seconds<10?"0"+this.seconds:this.seconds},minute2:function(){return this.minute<10?"0"+this.minute:this.minute}},mounted:function(){this.questiones=[],this.questiones=JSON.parse(localStorage.getItem("questionInfoList")),this.totalNumber=this.questiones.length,this.questiones.forEach(function(t){t.checkboxInfo=[]}),this.index=0,this.item=this.questiones[this.index],1===this.questiones.length?this.downBtnFlg=!0:this.downBtnFlg=!1,this.upBtnFlg=!0,this.minute=localStorage.getItem("examinationMinute"),this.seconds=0;var t=this;this.timer=setInterval(function(){if(0===t.minute&&0===t.seconds)return clearInterval(t.timer),t.questiones.map(function(e,s,i){t.questiones[s].finish=!0}),void t.postScore();0===t.seconds?(t.minute--,t.seconds=59):t.seconds--},1e3)}},c=a,r=(s("122a"),s("2877")),l=Object(r["a"])(c,i,n,!1,null,"267a5bb2",null);l.options.__file="vue-examIndex.vue";e["default"]=l.exports}}]);